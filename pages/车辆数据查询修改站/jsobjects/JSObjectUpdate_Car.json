{
  "unpublishedCollection": {
    "name": "JSObjectUpdate_Car",
    "pageId": "车辆数据查询修改站",
    "pluginId": "js-plugin",
    "pluginType": "JS",
    "actions": [],
    "archivedActions": [],
    "body": "export default {\n\tUpdate_Car: () => {\n\n\t\t// 检测数据是否违规\n\n\t\tlet Cheat = 0; // 默认设置为0\n\n\t\t// 名称\n\t\tconst InputNameText = InputName.text;\n\t\tconst fullwidthChars = \"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨ゛゜ラリルレロワヲン＿ッァィゥェォャュョ－。あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよ゛゜らりるれろわをん＿っぁぃぅぇぉゃゅょ－。ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺ１２３４５６７８９０＜？＋－＊÷＝；：／＼＿｜・＠！？＆★（）＾◇'ａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚ１２３４５６７８９０＜？＋－＊÷＝；：／＼＿｜・＠！？＆★（）＾◇'　\";\n\n\t\tfor (const char of InputNameText) {\n\t\t\tif (fullwidthChars.includes(char)) {\n\t\t\t\tCheat = 0;\n\t\t\t} else {\n\t\t\t\t// 发现非全角字符，将 Cheat 设置为 1 并立即终止循环\n\t\t\t\tCheat = 1;\n\t\t\t\tshowAlert('检测到名称部分输入的字符非全角字符，已中止修改', 'error');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(InputName.text.length > 5)\n\t\t{\n\t\t\tCheat = 1;\n\t\t\tshowAlert('检测到 名称 部分超出限定的五位，已中止修改', 'error');\n\t\t}\n\n\t\t// 等级\n\t\tconst InputLevelValue = Select_Level.selectedOptionValue;\n\t\tif(InputLevelValue == 0 || InputLevelValue > 20) // 只允许 1 ~ 25之间。超过则判断为作弊\n\t\t{\n\t\t\t// 判断用户此前数据是否更改（也就是数据有没有变化，没有则不作为作弊）\n\t\t\tif(InputLevelValue != Select_Car_Detail.data[0].level) // 如果当前数值不等于原等级数值\n\t\t\t{\n\t\t\t\tCheat = 1;\n\t\t\t\tshowAlert('检测到 等级 部分数值设置超出规定范围，已取消修改操作', 'error');\n\t\t\t}\n\t\t}\n\n\t\t// 公里数\n\t\tconst InputOdoText = InputOdometer.text;\n\t\tif(InputOdoText > 50000) // 只允许五万以内。超过则判断为作弊\n\t\t{\n\t\t\tif(InputOdoText != Select_Car_Detail.data[0].odometer)\n\t\t\t{\n\t\t\t\tCheat = 1;\n\t\t\t\tshowAlert('检测到 公里数 部分数值设置超出规定范围，已取消修改操作', 'error');\n\t\t\t}\n\t\t}\n\n\t\t// 称号\n\t\tif(InputTitle.text.length > 8)\n\t\t{\n\t\t\tCheat = 1;\n\t\t\tshowAlert('检测到 称号 部分超出限定的八位字符，已中止修改', 'error');\n\t\t}\n\n\t\t// 化身奖杯数量\n\t\tconst InputTropyText = InputRgTropy.text;\n\t\tif(InputTropyText > 200) // 只允许200以内。超过则判断为作弊\n\t\t{\n\t\t\tif(InputTropyText != Select_Car_Detail.data[0].rgTrophy)\n\t\t\t{\n\t\t\t\tCheat = 1;\n\t\t\t\tshowAlert('检测到 化身奖杯数量 部分数值设置超出规定范围，已取消修改操作', 'error');\n\t\t\t}\n\t\t}\n\n\t\t// 车牌号\n\t\tconst InputPlateText = InputPlateNumber.text;\n\t\tif(InputPlateText > 9999) // 只允许200以内。超过则判断为作弊\n\t\t{\n\t\t\tif(InputPlateText != Select_Car_Detail.data[0].plateNumber)\n\t\t\t{\n\t\t\t\tCheat = 1;\n\t\t\t\tshowAlert('检测到 车牌号 部分数值设置超出规定范围（0 ~ 9999），已取消修改操作', 'error');\n\t\t\t}\n\t\t}\n\n\t\t// 车辆登记区域\n\t\tconst SelectArea = SelectRegionId.selectedOptionValue;\n\t\tif(SelectArea < 1 || SelectArea > 47)\n\t\t{\n\t\t\tCheat = 1;\n\t\t\tshowAlert('检测到 车辆登记区域 部分选择数据异常，已取消修改操作', 'error');\n\t\t}\n\n\t\t// 轮毂\n\t\tconst SelectWheel = Select_Wheel.selectedOptionValue;\n\t\tif(SelectWheel == 10 || SelectWheel == 25 || SelectWheel == 26 || SelectWheel == 35 || SelectWheel == 36 || SelectWheel == 44 || SelectWheel == 45 || SelectWheel == 46 || SelectWheel == 52)\n\t\t{\n\t\t\tCheat = 1;\n\t\t\tshowAlert('检测到 轮毂 部分选择数据异常，已取消修改操作', 'error');\n\t\t}\n\n\t\t// 车辆原厂颜色\n\t\t// 目前不需要写代码检测\n\n\t\t// 车辆自定义颜色\n\t\tconst InputCColor = InputCustomColor.text;\n\t\tif(InputCColor > 40)\n\t\t{\n\t\t\tCheat = 1;\n\t\t\tshowAlert('检测到 车辆自定义颜色 部分选择数据异常，已取消修改操作', 'error');\n\t\t}\n\n\t\t// 如果Cheat为0则执行上传，如果为1则取消上传\n\t\tif(Cheat === 0)\n\t\t{\n\t\t\tUpdate_Car_Data.run(); // 上传\n\t\t\tSelect_Car_Detail.run(); // 重新获取\n\t\t\tInputName.text\n\t\t\tshowAlert('修改成功', 'success');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tshowAlert('请检查您是否有遵循规则填写数值', 'error');\n\t\t}\n\n\t\treturn Cheat;\n\n\t}\n}",
    "variables": [],
    "userPermissions": []
  },
  "id": "车辆数据查询修改站_JSObjectUpdate_Car",
  "deleted": false,
  "gitSyncId": "6485dc0a6fbfd93d5cd41d7a_64b7d5ff6fbfd93d5cd4cce8"
}